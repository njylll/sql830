<!DOCTYPE html>
<html lang="zh"
      xmlns:th="http://www.thymeleaf.org"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" th:href="@{/layui/css/layui_origin.css}">
    <script type="text/javascript" th:src="@{/js/jquery.min.js}"></script>
</head>
<body>
<br><br>
<div class="layui-row">
    <div class="layui-col-md3">
        <div>&nbsp;</div>
    </div>
    <!--开始-->
    <div class="layui-col-md5">
        <div>
            <form class="layui-form" action="/newVersion/student/me" method="post">
                <!--昵称-->
                <div class="layui-form-item">
                    <label class="layui-form-label">昵称</label>
                    <div class="layui-input-block">
                        <input id="user-name" style="width: 200px" type="text" name="username" lay-verify="uName" autocomplete="off"
                               th:placeholder="${session.SPRING_SECURITY_CONTEXT.authentication.principal.username} "
                               th:value="${session.SPRING_SECURITY_CONTEXT.authentication.principal.username}" class="layui-input">
                    </div>
                </div>
                <!--学号-->
                <div class="layui-form-item">
                    <label class="layui-form-label">学号</label>
                    <div class="layui-input-block">
                        <input id="user-id" style="width: 200px" type="text" name="studentId" lay-verify="uId" autocomplete="off"
                               th:placeholder="${sId} " th:value="${sId}" class="layui-input">
                    </div>
                </div>
                <!--学生姓名-->
                <div class="layui-form-item">
                    <label class="layui-form-label">姓名</label>
                    <div class="layui-input-block">
                        <input id="user-real-name" style="width: 200px" type="text" name="studentName" autocomplete="off"
                               th:placeholder="${sName} " th:value="${sName}" class="layui-input">
                    </div>
                </div>
                <!--修改密码-->
                <div class="layui-form-item">
                    <label class="layui-form-label">修改密码</label>
                    <div class="layui-input-block">
                        <input id="user-password" style="width: 200px" type="password" name="password" lay-verify="uPass" autocomplete="off"
                               placeholder="*******" value="" class="layui-input">
                    </div>
                </div>
                <!--上传头像-->
                <div class="layui-upload" style="width: 200px ;margin-left:130px;">
                    <div class="layui-upload-list">
                        <img class="layui-upload-img" id="demo1">
                        <p id="demoText"></p>
                    </div>
                    <div style="width: 95px;">
                        <div class="layui-progress layui-progress-big" lay-showpercent="yes" lay-filter="demo">
                            <div class="layui-progress-bar" lay-percent=""></div>
                        </div>
                    </div><br>
                    <button type="button" class="layui-btn" id="avatar-upload">上传头像</button>
                </div><br><br>
                <!--提交修改-->
                <div class="layui-btn-container" style="margin-left: 120px">
                    <button type="button" id="me-submit" class="layui-btn layui-btn-lg layui-btn-normal">提交修改</button>
                </div>
            </form>
        </div>
    </div>
    <div class="layui-col-md3" >
        <div><img sec:authorize="isAuthenticated()" th:src="${avatar}" style="border: solid black 1px;width: auto;height: auto;max-width: 150px;max-height: 150px;" class="layui-nav-img"></div>
    </div>
</div>
<script th:src="@{/layui/layui_origin.js}"></script>
<script type="text/javascript" th:src="@{/js/student_me.js}"></script>
</body>
</html>